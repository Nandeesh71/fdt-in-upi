{"ast":null,"code":"/**\n * Robust Session Storage Manager\n * Works on mobile browsers with stricter storage policies\n * Falls back gracefully if localStorage is disabled or restricted\n */class SessionStorageManager{constructor(){this.storageType=this.detectStorageType();this.sessionData={};// In-memory fallback\nconsole.log(\"\\uD83D\\uDCF1 Using storage type: \".concat(this.storageType));}/**\n   * Detect which storage mechanism is available\n   */detectStorageType(){// Check if localStorage is available and writable\ntry{const test='__storage_test__';localStorage.setItem(test,test);localStorage.removeItem(test);return'localStorage';}catch(e){console.warn('‚ö† localStorage unavailable, falling back to memory storage');return'memory';}}/**\n   * Set a value in the best available storage\n   */setItem(key,value){try{const serialized=JSON.stringify(value);if(this.storageType==='localStorage'){localStorage.setItem(key,serialized);}else{this.sessionData[key]=serialized;}console.log(\"\\u2713 Stored \".concat(key,\" in \").concat(this.storageType));}catch(error){console.error(\"\\u274C Failed to store \".concat(key,\":\"),error);// Fallback to memory\nthis.sessionData[key]=JSON.stringify(value);}}/**\n   * Get a value from the best available storage\n   */getItem(key){try{let value;if(this.storageType==='localStorage'){value=localStorage.getItem(key);}else{value=this.sessionData[key];}return value?JSON.parse(value):null;}catch(error){console.error(\"\\u274C Failed to retrieve \".concat(key,\":\"),error);return null;}}/**\n   * Remove a value from storage\n   */removeItem(key){try{if(this.storageType==='localStorage'){localStorage.removeItem(key);}else{delete this.sessionData[key];}console.log(\"\\u2713 Removed \".concat(key,\" from \").concat(this.storageType));}catch(error){console.error(\"\\u274C Failed to remove \".concat(key,\":\"),error);}}/**\n   * Clear all session data\n   */clear(){try{if(this.storageType==='localStorage'){// Clear only FDT-related items\nlocalStorage.removeItem('fdt_token');localStorage.removeItem('fdt_user');}else{this.sessionData={};}console.log(\"\\u2713 Cleared session data from \".concat(this.storageType));}catch(error){console.error('‚ùå Failed to clear session data:',error);}}/**\n   * Check if storage is available\n   */isAvailable(){return this.storageType!=='memory';}}// Create singleton instance\nconst sessionStorage=new SessionStorageManager();export default sessionStorage;","map":{"version":3,"names":["SessionStorageManager","constructor","storageType","detectStorageType","sessionData","console","log","concat","test","localStorage","setItem","removeItem","e","warn","key","value","serialized","JSON","stringify","error","getItem","parse","clear","isAvailable","sessionStorage"],"sources":["/home/aakash/Projects/Fraud-Detection-in-UPI---FDT2/frontend/src/utils/sessionStorageManager.js"],"sourcesContent":["/**\n * Robust Session Storage Manager\n * Works on mobile browsers with stricter storage policies\n * Falls back gracefully if localStorage is disabled or restricted\n */\n\nclass SessionStorageManager {\n  constructor() {\n    this.storageType = this.detectStorageType();\n    this.sessionData = {}; // In-memory fallback\n    console.log(`üì± Using storage type: ${this.storageType}`);\n  }\n\n  /**\n   * Detect which storage mechanism is available\n   */\n  detectStorageType() {\n    // Check if localStorage is available and writable\n    try {\n      const test = '__storage_test__';\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n      return 'localStorage';\n    } catch (e) {\n      console.warn('‚ö† localStorage unavailable, falling back to memory storage');\n      return 'memory';\n    }\n  }\n\n  /**\n   * Set a value in the best available storage\n   */\n  setItem(key, value) {\n    try {\n      const serialized = JSON.stringify(value);\n\n      if (this.storageType === 'localStorage') {\n        localStorage.setItem(key, serialized);\n      } else {\n        this.sessionData[key] = serialized;\n      }\n\n      console.log(`‚úì Stored ${key} in ${this.storageType}`);\n    } catch (error) {\n      console.error(`‚ùå Failed to store ${key}:`, error);\n      // Fallback to memory\n      this.sessionData[key] = JSON.stringify(value);\n    }\n  }\n\n  /**\n   * Get a value from the best available storage\n   */\n  getItem(key) {\n    try {\n      let value;\n\n      if (this.storageType === 'localStorage') {\n        value = localStorage.getItem(key);\n      } else {\n        value = this.sessionData[key];\n      }\n\n      return value ? JSON.parse(value) : null;\n    } catch (error) {\n      console.error(`‚ùå Failed to retrieve ${key}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Remove a value from storage\n   */\n  removeItem(key) {\n    try {\n      if (this.storageType === 'localStorage') {\n        localStorage.removeItem(key);\n      } else {\n        delete this.sessionData[key];\n      }\n\n      console.log(`‚úì Removed ${key} from ${this.storageType}`);\n    } catch (error) {\n      console.error(`‚ùå Failed to remove ${key}:`, error);\n    }\n  }\n\n  /**\n   * Clear all session data\n   */\n  clear() {\n    try {\n      if (this.storageType === 'localStorage') {\n        // Clear only FDT-related items\n        localStorage.removeItem('fdt_token');\n        localStorage.removeItem('fdt_user');\n      } else {\n        this.sessionData = {};\n      }\n\n      console.log(`‚úì Cleared session data from ${this.storageType}`);\n    } catch (error) {\n      console.error('‚ùå Failed to clear session data:', error);\n    }\n  }\n\n  /**\n   * Check if storage is available\n   */\n  isAvailable() {\n    return this.storageType !== 'memory';\n  }\n}\n\n// Create singleton instance\nconst sessionStorage = new SessionStorageManager();\n\nexport default sessionStorage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}