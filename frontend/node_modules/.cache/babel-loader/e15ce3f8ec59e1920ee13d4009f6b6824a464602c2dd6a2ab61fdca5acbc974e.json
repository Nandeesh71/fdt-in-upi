{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import favoritesManager from'../utils/favoritesManager';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransactionResult=_ref=>{var _result$riskLevel2,_result$transaction2,_result$transaction3;let{result,onBack,senderUser}=_ref;const navigate=useNavigate();// Auto-save recipient if transaction is ALLOW\nuseEffect(()=>{if(result.status==='success'&&!result.requiresConfirmation&&result.transaction){try{const newFavorite={name:result.transaction.recipient_vpa,vpa:result.transaction.recipient_vpa,amount:result.transaction.amount?parseFloat(result.transaction.amount):null,remarks:''};favoritesManager.addFavorite(newFavorite);console.log(\"\\u2713 Auto-saved recipient: \".concat(result.transaction.recipient_vpa));}catch(error){console.error('Error auto-saving recipient:',error);}}},[result]);const getStatusIcon=()=>{if(result.status==='success'&&!result.requiresConfirmation){return/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:3,d:\"M5 13l4 4L19 7\"})})});}if(result.requiresConfirmation){return/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 3.161-3.158a4.822 4.822 0 00-2.094-2.327A4.972 4.972 0 0012 17c-1.775 0-3.39-.602-4.493-1.603\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})});};const getStatusMessage=()=>{var _result$transaction;if(result.status==='success'&&!result.requiresConfirmation){return{title:'Payment Successful!',message:\"\\u20B9\".concat(parseFloat(result.transaction.amount).toLocaleString('en-IN',{minimumFractionDigits:2}),\" sent successfully to \").concat(result.transaction.recipient_vpa),subtitle:'Your payment has been completed and the recipient should receive the funds shortly.',type:'success'};}if(((_result$transaction=result.transaction)===null||_result$transaction===void 0?void 0:_result$transaction.action)==='BLOCK'){return{title:'Transaction Blocked',message:\"Your transaction of \\u20B9\".concat(parseFloat(result.transaction.amount).toLocaleString('en-IN',{minimumFractionDigits:2}),\" to \").concat(result.transaction.recipient_vpa,\" has been blocked.\"),subtitle:'For security reasons, this transaction cannot be processed. Please contact support for assistance.',type:'error'};}if(result.requiresConfirmation){var _result$riskLevel;return{title:'Transaction Pending Review',message:\"Your transaction of \\u20B9\".concat(parseFloat(result.transaction.amount).toLocaleString('en-IN',{minimumFractionDigits:2}),\" has been delayed for security review.\"),subtitle:\"Risk Level: \".concat(((_result$riskLevel=result.riskLevel)===null||_result$riskLevel===void 0?void 0:_result$riskLevel.toUpperCase())||'MEDIUM',\". Please confirm this transaction in your fraud detection interface.\"),type:'warning'};}return{title:'Transaction Failed',message:'Your transaction could not be processed at this time.',subtitle:'Please check your account and try again.',type:'error'};};const message=getStatusMessage();const handleGoToDashboard=()=>{navigate('/dashboard');};const handleGoToFraudInterface=()=>{navigate(\"/fraud-alert/\".concat(result.transaction.tx_id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/10 backdrop-blur-sm border-b border-white/20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,className:\"text-green-200 hover:text-white flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})}),\"Back\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-white ml-4\",children:\"Transaction Result\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-md p-8 border border-white/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[getStatusIcon(),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mt-4 mb-2 \".concat(message.type==='success'?'text-green-200':message.type==='warning'?'text-yellow-200':'text-red-200'),children:message.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-4 \".concat(message.type==='success'?'text-green-100':message.type==='warning'?'text-yellow-100':'text-red-100'),children:message.message}),message.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(message.type==='success'?'text-green-200':message.type==='warning'?'text-yellow-200':'text-red-200'),children:message.subtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-semibold mb-4\",children:\"Transaction Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Transaction ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-mono\",children:result.transaction.tx_id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Recipient:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:result.transaction.recipient_vpa})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"\\u20B9\",parseFloat(result.transaction.amount).toLocaleString('en-IN',{minimumFractionDigits:2})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold \".concat(message.type==='success'?'text-green-400':message.type==='warning'?'text-yellow-400':'text-red-400'),children:message.type==='success'?'Successful':message.type==='warning'?'Pending Confirmation':'Failed'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Risk Level:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold \".concat(result.riskLevel==='low'?'text-green-400':result.riskLevel==='medium'?'text-yellow-400':result.riskLevel==='high'?'text-red-400':'text-gray-400'),children:((_result$riskLevel2=result.riskLevel)===null||_result$riskLevel2===void 0?void 0:_result$riskLevel2.toUpperCase())||'N/A'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-3\",children:[((_result$transaction2=result.transaction)===null||_result$transaction2===void 0?void 0:_result$transaction2.action)==='DELAY'?/*#__PURE__*/_jsx(\"button\",{onClick:handleGoToFraudInterface,className:\"w-full bg-gradient-to-r from-yellow-600 to-orange-600 text-white py-3 rounded-lg font-semibold hover:from-yellow-700 hover:to-orange-700 transition duration-200\",children:\"Review Transaction Now\"}):((_result$transaction3=result.transaction)===null||_result$transaction3===void 0?void 0:_result$transaction3.action)==='ALLOW'?/*#__PURE__*/_jsx(\"button\",{onClick:handleGoToDashboard,className:\"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-teal-700 transition duration-200\",children:\"Go to Dashboard\"}):null,/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"w-full bg-white/20 text-green-200 py-3 rounded-lg font-semibold hover:bg-white/30 transition duration-200 border border border-white/20\",children:\"Send Another Payment\"})]})]})})]});};export default TransactionResult;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}