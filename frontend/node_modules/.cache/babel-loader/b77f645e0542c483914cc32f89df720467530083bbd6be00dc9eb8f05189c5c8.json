{"ast":null,"code":"// Firebase configuration and initialization\nimport { initializeApp } from 'firebase/app';\nimport { getMessaging, getToken, onMessage } from 'firebase/messaging';\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY || 'AIzaSyDummy_Key_For_Dev_Only_12345',\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN || 'fdt-fraud-detection-upi.firebaseapp.com',\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID || 'fdt-fraud-detection-upi',\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET || 'fdt-fraud-detection-upi.appspot.com',\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID || '123456789012',\n  appId: process.env.REACT_APP_FIREBASE_APP_ID || '1:123456789012:web:abcdef1234567890'\n};\nlet app, messaging;\ntry {\n  app = initializeApp(firebaseConfig);\n  messaging = getMessaging(app);\n  console.log('Firebase initialized successfully');\n} catch (error) {\n  console.warn('Firebase initialization warning (dev mode):', error.message);\n  app = null;\n  messaging = null;\n}\n\n/**\r\n * Request notification permission and get FCM token\r\n */\nexport const requestNotificationPermission = async () => {\n  if (!messaging) {\n    console.warn('Firebase messaging not initialized (dev mode)');\n    return null;\n  }\n  try {\n    const permission = await Notification.requestPermission();\n    if (permission === 'granted') {\n      const token = await getToken(messaging, {\n        vapidKey: process.env.REACT_APP_FIREBASE_VAPID_KEY || 'BDummy_VAPID_Key_For_Dev_Only_12345678901234567890'\n      });\n      console.log('FCM Token:', token);\n      return token;\n    } else {\n      console.log('Notification permission denied');\n      return null;\n    }\n  } catch (error) {\n    console.error('Error getting FCM token:', error);\n    return null;\n  }\n};\n\n/**\r\n * Listen for foreground messages\r\n */\nexport const onMessageListener = () => new Promise(resolve => {\n  if (!messaging) {\n    console.warn('Firebase messaging not initialized (dev mode)');\n    return;\n  }\n  onMessage(messaging, payload => {\n    console.log('Message received:', payload);\n    resolve(payload);\n  });\n});\nexport { messaging };","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","messaging","console","log","error","warn","message","requestNotificationPermission","permission","Notification","requestPermission","token","vapidKey","REACT_APP_FIREBASE_VAPID_KEY","onMessageListener","Promise","resolve","payload"],"sources":["C:/Users/jerol/SEC/FDT/frontend/src/firebase.js"],"sourcesContent":["// Firebase configuration and initialization\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getMessaging, getToken, onMessage } from 'firebase/messaging';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY || 'AIzaSyDummy_Key_For_Dev_Only_12345',\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN || 'fdt-fraud-detection-upi.firebaseapp.com',\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID || 'fdt-fraud-detection-upi',\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET || 'fdt-fraud-detection-upi.appspot.com',\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID || '123456789012',\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID || '1:123456789012:web:abcdef1234567890'\r\n};\r\n\r\nlet app, messaging;\r\n\r\ntry {\r\n  app = initializeApp(firebaseConfig);\r\n  messaging = getMessaging(app);\r\n  console.log('Firebase initialized successfully');\r\n} catch (error) {\r\n  console.warn('Firebase initialization warning (dev mode):', error.message);\r\n  app = null;\r\n  messaging = null;\r\n}\r\n\r\n/**\r\n * Request notification permission and get FCM token\r\n */\r\nexport const requestNotificationPermission = async () => {\r\n  if (!messaging) {\r\n    console.warn('Firebase messaging not initialized (dev mode)');\r\n    return null;\r\n  }\r\n  \r\n  try {\r\n    const permission = await Notification.requestPermission();\r\n    \r\n    if (permission === 'granted') {\r\n      const token = await getToken(messaging, {\r\n        vapidKey: process.env.REACT_APP_FIREBASE_VAPID_KEY || 'BDummy_VAPID_Key_For_Dev_Only_12345678901234567890'\r\n      });\r\n      \r\n      console.log('FCM Token:', token);\r\n      return token;\r\n    } else {\r\n      console.log('Notification permission denied');\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error('Error getting FCM token:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Listen for foreground messages\r\n */\r\nexport const onMessageListener = () =>\r\n  new Promise((resolve) => {\r\n    if (!messaging) {\r\n      console.warn('Firebase messaging not initialized (dev mode)');\r\n      return;\r\n    }\r\n    \r\n    onMessage(messaging, (payload) => {\r\n      console.log('Message received:', payload);\r\n      resolve(payload);\r\n    });\r\n  });\r\n\r\nexport { messaging };\r\n"],"mappings":"AAAA;AACA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AAEtE,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,0BAA0B,IAAI,oCAAoC;EACtFC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACG,8BAA8B,IAAI,yCAAyC;EACnGC,SAAS,EAAEL,OAAO,CAACC,GAAG,CAACK,6BAA6B,IAAI,yBAAyB;EACjFC,aAAa,EAAEP,OAAO,CAACC,GAAG,CAACO,iCAAiC,IAAI,qCAAqC;EACrGC,iBAAiB,EAAET,OAAO,CAACC,GAAG,CAACS,sCAAsC,IAAI,cAAc;EACvFC,KAAK,EAAEX,OAAO,CAACC,GAAG,CAACW,yBAAyB,IAAI;AAClD,CAAC;AAED,IAAIC,GAAG,EAAEC,SAAS;AAElB,IAAI;EACFD,GAAG,GAAGnB,aAAa,CAACI,cAAc,CAAC;EACnCgB,SAAS,GAAGnB,YAAY,CAACkB,GAAG,CAAC;EAC7BE,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;AAClD,CAAC,CAAC,OAAOC,KAAK,EAAE;EACdF,OAAO,CAACG,IAAI,CAAC,6CAA6C,EAAED,KAAK,CAACE,OAAO,CAAC;EAC1EN,GAAG,GAAG,IAAI;EACVC,SAAS,GAAG,IAAI;AAClB;;AAEA;AACA;AACA;AACA,OAAO,MAAMM,6BAA6B,GAAG,MAAAA,CAAA,KAAY;EACvD,IAAI,CAACN,SAAS,EAAE;IACdC,OAAO,CAACG,IAAI,CAAC,+CAA+C,CAAC;IAC7D,OAAO,IAAI;EACb;EAEA,IAAI;IACF,MAAMG,UAAU,GAAG,MAAMC,YAAY,CAACC,iBAAiB,CAAC,CAAC;IAEzD,IAAIF,UAAU,KAAK,SAAS,EAAE;MAC5B,MAAMG,KAAK,GAAG,MAAM5B,QAAQ,CAACkB,SAAS,EAAE;QACtCW,QAAQ,EAAEzB,OAAO,CAACC,GAAG,CAACyB,4BAA4B,IAAI;MACxD,CAAC,CAAC;MAEFX,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEQ,KAAK,CAAC;MAChC,OAAOA,KAAK;IACd,CAAC,MAAM;MACLT,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;MAC7C,OAAO,IAAI;IACb;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMU,iBAAiB,GAAGA,CAAA,KAC/B,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvB,IAAI,CAACf,SAAS,EAAE;IACdC,OAAO,CAACG,IAAI,CAAC,+CAA+C,CAAC;IAC7D;EACF;EAEArB,SAAS,CAACiB,SAAS,EAAGgB,OAAO,IAAK;IAChCf,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEc,OAAO,CAAC;IACzCD,OAAO,CAACC,OAAO,CAAC;EAClB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEJ,SAAShB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}