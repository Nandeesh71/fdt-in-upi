{"ast":null,"code":"/**\n * Favorites Manager - manages saved transaction templates\n */\n\nclass FavoritesManager {\n  constructor() {\n    this.STORAGE_KEY = 'fdt_favorites';\n    this.favorites = this.loadFavorites();\n  }\n\n  /**\n   * Load favorites from localStorage\n   */\n  loadFavorites() {\n    try {\n      const stored = localStorage.getItem(this.STORAGE_KEY);\n      return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.error('Error loading favorites:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Save favorites to localStorage\n   */\n  saveFavorites() {\n    try {\n      localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.favorites));\n    } catch (error) {\n      console.error('Error saving favorites:', error);\n    }\n  }\n\n  /**\n   * Add a new favorite\n   * @param {Object} favorite - { id, name, vpa, amount, remarks }\n   */\n  addFavorite(favorite) {\n    const id = favorite.id || Date.now().toString();\n    const newFavorite = {\n      id,\n      name: favorite.name || favorite.vpa,\n      vpa: favorite.vpa,\n      amount: favorite.amount || null,\n      remarks: favorite.remarks || '',\n      createdAt: favorite.createdAt || new Date().toISOString(),\n      frequency: favorite.frequency || 0\n    };\n\n    // Check if favorite already exists\n    const existingIndex = this.favorites.findIndex(f => f.vpa === newFavorite.vpa);\n    if (existingIndex >= 0) {\n      this.favorites[existingIndex] = newFavorite;\n    } else {\n      this.favorites.push(newFavorite);\n    }\n    this.saveFavorites();\n    return newFavorite;\n  }\n\n  /**\n   * Get all favorites\n   */\n  getFavorites() {\n    return this.favorites.sort((a, b) => b.frequency - a.frequency);\n  }\n\n  /**\n   * Get favorite by ID\n   */\n  getFavoriteById(id) {\n    return this.favorites.find(f => f.id === id);\n  }\n\n  /**\n   * Get favorite by VPA\n   */\n  getFavoriteByVPA(vpa) {\n    return this.favorites.find(f => f.vpa === vpa);\n  }\n\n  /**\n   * Update a favorite\n   */\n  updateFavorite(id, updates) {\n    const index = this.favorites.findIndex(f => f.id === id);\n    if (index >= 0) {\n      this.favorites[index] = {\n        ...this.favorites[index],\n        ...updates\n      };\n      this.saveFavorites();\n      return this.favorites[index];\n    }\n    return null;\n  }\n\n  /**\n   * Delete a favorite\n   */\n  deleteFavorite(id) {\n    const index = this.favorites.findIndex(f => f.id === id);\n    if (index >= 0) {\n      this.favorites.splice(index, 1);\n      this.saveFavorites();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Increment frequency for a favorite (track usage)\n   */\n  incrementFrequency(id) {\n    const favorite = this.getFavoriteById(id);\n    if (favorite) {\n      favorite.frequency = (favorite.frequency || 0) + 1;\n      this.saveFavorites();\n    }\n  }\n\n  /**\n   * Get most frequently used favorites\n   */\n  getFrequentFavorites(limit = 5) {\n    return this.getFavorites().slice(0, limit);\n  }\n\n  /**\n   * Search favorites by name or VPA\n   */\n  searchFavorites(query) {\n    const lowerQuery = query.toLowerCase();\n    return this.favorites.filter(f => f.name.toLowerCase().includes(lowerQuery) || f.vpa.toLowerCase().includes(lowerQuery));\n  }\n\n  /**\n   * Clear all favorites\n   */\n  clearAll() {\n    this.favorites = [];\n    this.saveFavorites();\n  }\n\n  /**\n   * Export favorites as JSON\n   */\n  export() {\n    return JSON.stringify(this.favorites, null, 2);\n  }\n\n  /**\n   * Import favorites from JSON\n   */\n  import(jsonString) {\n    try {\n      const imported = JSON.parse(jsonString);\n      if (Array.isArray(imported)) {\n        this.favorites = imported;\n        this.saveFavorites();\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error importing favorites:', error);\n      return false;\n    }\n  }\n}\n\n// Create and export singleton instance\nconst favoritesManager = new FavoritesManager();\nexport default favoritesManager;","map":{"version":3,"names":["FavoritesManager","constructor","STORAGE_KEY","favorites","loadFavorites","stored","localStorage","getItem","JSON","parse","error","console","saveFavorites","setItem","stringify","addFavorite","favorite","id","Date","now","toString","newFavorite","name","vpa","amount","remarks","createdAt","toISOString","frequency","existingIndex","findIndex","f","push","getFavorites","sort","a","b","getFavoriteById","find","getFavoriteByVPA","updateFavorite","updates","index","deleteFavorite","splice","incrementFrequency","getFrequentFavorites","limit","slice","searchFavorites","query","lowerQuery","toLowerCase","filter","includes","clearAll","export","import","jsonString","imported","Array","isArray","favoritesManager"],"sources":["/home/aakash/Projects/Fraud-Detection-in-UPI---FDT2/frontend/src/utils/favoritesManager.js"],"sourcesContent":["/**\n * Favorites Manager - manages saved transaction templates\n */\n\nclass FavoritesManager {\n  constructor() {\n    this.STORAGE_KEY = 'fdt_favorites';\n    this.favorites = this.loadFavorites();\n  }\n\n  /**\n   * Load favorites from localStorage\n   */\n  loadFavorites() {\n    try {\n      const stored = localStorage.getItem(this.STORAGE_KEY);\n      return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.error('Error loading favorites:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Save favorites to localStorage\n   */\n  saveFavorites() {\n    try {\n      localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.favorites));\n    } catch (error) {\n      console.error('Error saving favorites:', error);\n    }\n  }\n\n  /**\n   * Add a new favorite\n   * @param {Object} favorite - { id, name, vpa, amount, remarks }\n   */\n  addFavorite(favorite) {\n    const id = favorite.id || Date.now().toString();\n    const newFavorite = {\n      id,\n      name: favorite.name || favorite.vpa,\n      vpa: favorite.vpa,\n      amount: favorite.amount || null,\n      remarks: favorite.remarks || '',\n      createdAt: favorite.createdAt || new Date().toISOString(),\n      frequency: favorite.frequency || 0\n    };\n\n    // Check if favorite already exists\n    const existingIndex = this.favorites.findIndex(f => f.vpa === newFavorite.vpa);\n    if (existingIndex >= 0) {\n      this.favorites[existingIndex] = newFavorite;\n    } else {\n      this.favorites.push(newFavorite);\n    }\n\n    this.saveFavorites();\n    return newFavorite;\n  }\n\n  /**\n   * Get all favorites\n   */\n  getFavorites() {\n    return this.favorites.sort((a, b) => b.frequency - a.frequency);\n  }\n\n  /**\n   * Get favorite by ID\n   */\n  getFavoriteById(id) {\n    return this.favorites.find(f => f.id === id);\n  }\n\n  /**\n   * Get favorite by VPA\n   */\n  getFavoriteByVPA(vpa) {\n    return this.favorites.find(f => f.vpa === vpa);\n  }\n\n  /**\n   * Update a favorite\n   */\n  updateFavorite(id, updates) {\n    const index = this.favorites.findIndex(f => f.id === id);\n    if (index >= 0) {\n      this.favorites[index] = { ...this.favorites[index], ...updates };\n      this.saveFavorites();\n      return this.favorites[index];\n    }\n    return null;\n  }\n\n  /**\n   * Delete a favorite\n   */\n  deleteFavorite(id) {\n    const index = this.favorites.findIndex(f => f.id === id);\n    if (index >= 0) {\n      this.favorites.splice(index, 1);\n      this.saveFavorites();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Increment frequency for a favorite (track usage)\n   */\n  incrementFrequency(id) {\n    const favorite = this.getFavoriteById(id);\n    if (favorite) {\n      favorite.frequency = (favorite.frequency || 0) + 1;\n      this.saveFavorites();\n    }\n  }\n\n  /**\n   * Get most frequently used favorites\n   */\n  getFrequentFavorites(limit = 5) {\n    return this.getFavorites().slice(0, limit);\n  }\n\n  /**\n   * Search favorites by name or VPA\n   */\n  searchFavorites(query) {\n    const lowerQuery = query.toLowerCase();\n    return this.favorites.filter(f =>\n      f.name.toLowerCase().includes(lowerQuery) ||\n      f.vpa.toLowerCase().includes(lowerQuery)\n    );\n  }\n\n  /**\n   * Clear all favorites\n   */\n  clearAll() {\n    this.favorites = [];\n    this.saveFavorites();\n  }\n\n  /**\n   * Export favorites as JSON\n   */\n  export() {\n    return JSON.stringify(this.favorites, null, 2);\n  }\n\n  /**\n   * Import favorites from JSON\n   */\n  import(jsonString) {\n    try {\n      const imported = JSON.parse(jsonString);\n      if (Array.isArray(imported)) {\n        this.favorites = imported;\n        this.saveFavorites();\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Error importing favorites:', error);\n      return false;\n    }\n  }\n}\n\n// Create and export singleton instance\nconst favoritesManager = new FavoritesManager();\n\nexport default favoritesManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}