{"ast":null,"code":"import React,{useState}from'react';import favoritesManager from'../utils/favoritesManager';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FavoritesModal=_ref=>{let{isOpen,onClose,onSelectFavorite,onAddNew}=_ref;const[favorites,setFavorites]=useState(favoritesManager.getFavorites());const[editingId,setEditingId]=useState(null);const[editName,setEditName]=useState('');const[searchQuery,setSearchQuery]=useState('');const filteredFavorites=searchQuery.trim()?favoritesManager.searchFavorites(searchQuery):favorites;const handleDeleteFavorite=id=>{if(window.confirm('Delete this favorite?')){favoritesManager.deleteFavorite(id);setFavorites(favoritesManager.getFavorites());}};const handleEditFavorite=favorite=>{setEditingId(favorite.id);setEditName(favorite.name);};const handleSaveEdit=id=>{if(editName.trim()){favoritesManager.updateFavorite(id,{name:editName});setFavorites(favoritesManager.getFavorites());setEditingId(null);}};const handleSelectFavorite=favorite=>{favoritesManager.incrementFrequency(favorite.id);onSelectFavorite(favorite);onClose();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-2xl p-6 max-w-2xl w-full mx-4 border border-white/20 max-h-[80vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-white flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 mr-2 text-yellow-400\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),\"Saved Recipients\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-white/60 hover:text-white transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search favorites...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-4 py-2 pl-10 bg-white/10 border border-white/20 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 transition\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"absolute left-3 top-2.5 w-5 h-5 text-purple-300\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})]}),filteredFavorites.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 mx-auto text-purple-400 mb-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m0 0h6\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-300\",children:\"No favorites saved yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-400 mt-1\",children:\"Add a new recipient to get started\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-6\",children:filteredFavorites.map(fav=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 hover:bg-white/20 rounded-lg p-4 flex items-center justify-between transition cursor-pointer group\",onClick:()=>handleSelectFavorite(fav),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:editingId===fav.id?/*#__PURE__*/_jsx(\"input\",{autoFocus:true,type:\"text\",value:editName,onChange:e=>setEditName(e.target.value),className:\"w-full px-2 py-1 bg-white/20 border border-purple-400 rounded text-white focus:outline-none\",onClick:e=>e.stopPropagation()}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:fav.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-300\",children:fav.vpa}),fav.amount&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-purple-400\",children:[\"Amount: \\u20B9\",fav.amount.toLocaleString('en-IN')]}),fav.frequency>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-green-400\",children:[\"Used \",fav.frequency,\" time\",fav.frequency>1?'s':'']})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 ml-4\",onClick:e=>e.stopPropagation(),children:editingId===fav.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSaveEdit(fav.id),className:\"p-2 text-green-400 hover:bg-green-400/20 rounded transition\",title:\"Save\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingId(null),className:\"p-2 text-gray-400 hover:bg-gray-400/20 rounded transition\",title:\"Cancel\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditFavorite(fav),className:\"p-2 text-blue-400 hover:bg-blue-400/20 rounded transition opacity-0 group-hover:opacity-100\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteFavorite(fav.id),className:\"p-2 text-red-400 hover:bg-red-400/20 rounded transition opacity-0 group-hover:opacity-100\",title:\"Delete\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})})]},fav.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{onAddNew();onClose();},className:\"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m0 0h6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Add New Recipient\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition border border-white/20\",children:\"Close\"})]})]})});};export default FavoritesModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}